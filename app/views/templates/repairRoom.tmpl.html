<md-dialog aria-label="Room Repair" ng-cloak flex-xs="100" flex-sm="100" flex-gt-sm="60">
	<form>
		<md-toolbar>
			<div class="md-toolbar-tools">
				<h2>{{'MAINTENANCE_BLOCK' | translate}} - {{'ROOM' | translate}} {{currentRoom.room.RoomName}}</h2>
				<span flex></span>
				<md-button class="md-icon-button" ng-click="cancel()">
					<md-icon md-svg-src="img/icons/ic_close_48px.svg" style="fill: white;" aria-label="Close dialog"></md-icon>
				</md-button>
			</div>
		</md-toolbar>
		<md-dialog-content>
			<div class="md-dialog-content" layout="row" layout-wrap flex="100">
				<md-list flex="100">
					<md-subheader>{{'MAINTENANCE_BLOCK_LIST' | translate}}
						<md-button class="md-icon-button" style="padding: 0px;" ng-click="addRoomRepair($event)">
							<md-icon md-svg-src="img/icons/ic_add_circle_outline_48px.svg" style="" aria-label="Close dialog"></md-icon>
						</md-button>
					</md-subheader>
					<md-list-item class="md-3-line" ng-repeat="repair in roomRepairs">
						<div class="md-list-item-text" layout="column">
							<h3 ng-class="{ 'textDiabled' : repair.roomRepair.IsDeleted }">
								{{'FROM' | translate}}: {{ repair.roomRepair.RepairStartDate | date: 'dd/MM(HH:mm)' }} - {{'TO' | translate}}: {{ repair.roomRepair.RepairEndDate | date: 'dd/MM(HH:mm)' }}
							</h3>
							<h4 ng-class="{ 'textDiabled' : repair.roomRepair.IsDeleted }">
								{{'REASON' | translate}}: {{ repair.roomRepair.RepairReason }}
							</h4>
							<p ng-if="repair.LastModifyUser !== null" ng-class="{ 'textDiabled' : repair.roomRepair.IsDeleted }">{{'MODIFIED' | translate}}: {{ repair.LastModifyUser.Email }} | {{ repair.LastModifyDate | date: 'dd/MM(HH:mm)' }}</p>
						</div>

						<div class="md-secondary" layout="row" ng-if="!repair.roomRepair.IsDeleted && repair.roomRepair.showEdit === true">
							<div layout="column" layout-align="center center" style="margin: auto 0px;">
								<md-button aria-label="Room Edit" class="md-icon-button launch" style="padding: 0px; margin: 0px;" ng-click="editRoomRepair(repair.roomRepair,$event)">
									<md-icon md-svg-src="img/icons/ic_edit_24px.svg" style=""></md-icon>
								</md-button>
								<span style="display: inline;
								padding: .2em .6em .3em;
								font-size: 50%;
								font-weight: bold;
								text-transform: uppercase;
								line-height: 1;
								text-align: left;
								white-space: nowrap;
								vertical-align: baseline;
								border-radius: .25em;">
									{{'EDIT' | translate}}
								</span>
							</div>

							<div layout="column" layout-align="center center" style="margin: auto 0px;">
								<md-button aria-label="Room Repair" class="md-icon-button launch" style="padding: 0px; margin: 0px;" ng-click="removeRoomRepair(repair.roomRepair,$event)">
									<md-icon md-svg-src="img/icons/ic_clear_24px.svg" style=""></md-icon>
								</md-button>
								<span style="display: inline;
								padding: .2em .6em .3em;
								font-size: 50%;
								font-weight: bold;
								text-transform: uppercase;
								line-height: 1;
								text-align: left;
								white-space: nowrap;
								vertical-align: baseline;
								border-radius: .25em;">
									{{'UNBLOCK' | translate}}
								</span>
							</div>
						</div>
				<md-divider></md-divider>
			</md-list-item>
		</md-list>
	</div>
</md-dialog-content>

<md-dialog-actions layout="row">
	<md-button ng-click="cancel()" class="md-primary">
		{{'CLOSE' | translate}}
	</md-button>
			<!--<md-button ng-click="saveRepairSetting()" class="md-primary">
				{{'SAVE_SETTING' | translate}}
			</md-button>-->
		</md-dialog-actions>
	</form>
</md-dialog>